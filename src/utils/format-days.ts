/**
 * Форматирует количество дней с правильным склонением на русском языке.
 *
 * Функция обрабатывает только целые неотрицательные числа. Для всех остальных
 * входных значений возвращает строку 'Неверное число'.
 *
 * Правила склонения:
 * - для чисел, оканчивающихся на 1 (кроме 11): «день» (например, 1, 21, 31);
 * - для чисел, оканчивающихся на 2, 3, 4 (кроме 12, 13, 14): «дня» (например, 2, 22, 33);
 * - для всех остальных случаев: «дней» (включая диапазоны 11–14, 5–20, 25–30 и т.д.).
 *
 * @param {number} days - Количество дней для форматирования.
 *   Должно быть целым неотрицательным числом (0, 1, 2, ...).
 *   При нарушении условия функция возвращает 'Неверное число'.
 *
 * @returns {string} Отформатированная строка в формате "${days} день/дня/дней",
 *   где выбор окончания зависит от значения `days` согласно правилам русского языка.
 *   В случае некорректного входного значения возвращает 'Неверное число'.
 *
 * @example
 * formatDays(0);    // "0 дней"
 * @example
 * formatDays(1);    // "1 день"
 * @example
 * formatDays(2);    // "2 дня"
 * @example
 * formatDays(5);    // "5 дней"
 * @example
 * formatDays(11);   // "11 дней"
 * @example
 * formatDays(21);   // "21 день"
 * @example
 * formatDays(22);   // "22 дня"
 * @example
 * formatDays(125);  // "125 дней"
 *
 * @example <caption>Примеры некорректных входных данных:</caption>
 * formatDays(-5);   // "Неверное число"
 * formatDays(2.5);  // "Неверное число"
 * formatDays(NaN);   // "Неверное число"
 * formatDays(Infinity); // "Неверное число"
 */
export const formatDays = (days: number): string => {
  // Строгая проверка: только целые неотрицательные числа
  if (!Number.isInteger(days) || days < 0) {
    return 'Неверное число';
  }

  const lastDigit = days % 10;
  const lastTwoDigits = days % 100;

  if (lastTwoDigits >= 11 && lastTwoDigits <= 14) {
    return `${days} дней`;
  }

  return lastDigit === 1 ? `${days} день` : lastDigit >= 2 && lastDigit <= 4 ? `${days} дня` : `${days} дней`;
};
